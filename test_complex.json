{
  "contractName": "ComplexTest",
  "constructorInputs": [
    {
      "name": "ctrlAssetId",
      "type": "bytes32"
    },
    {
      "name": "serverPk",
      "type": "pubkey"
    }
  ],
  "functions": [
    {
      "name": "test",
      "functionInputs": [],
      "serverVariant": true,
      "require": [
        {
          "type": "comparison"
        },
        {
          "type": "serverSignature"
        }
      ],
      "asm": [
        "<tx.outputs[0].assets.lookup(ctrlAssetId)>",
        "OP_GREATERTHANOREQUAL",
        "<tx.inputs[0].assets.lookup(ctrlAssetId)>",
        "<SERVER_KEY>",
        "<serverSig>",
        "OP_CHECKSIG"
      ]
    },
    {
      "name": "test",
      "functionInputs": [],
      "serverVariant": false,
      "require": [
        {
          "type": "comparison"
        },
        {
          "type": "older",
          "message": "Exit timelock of 288 blocks"
        }
      ],
      "asm": [
        "<tx.outputs[0].assets.lookup(ctrlAssetId)>",
        "OP_GREATERTHANOREQUAL",
        "<tx.inputs[0].assets.lookup(ctrlAssetId)>",
        "288",
        "OP_CHECKLOCKTIMEVERIFY",
        "OP_DROP"
      ]
    }
  ],
  "source": "options {\n  server = serverPk;\n  exit = 288;\n}\n\ncontract ComplexTest(\n  bytes32 ctrlAssetId,\n  pubkey serverPk\n) {\n  function test() {\n    require(tx.outputs[0].assets.lookup(ctrlAssetId) >= tx.inputs[0].assets.lookup(ctrlAssetId), \"ctrl leaked\");\n  }\n}\n",
  "compiler": {
    "name": "arkade-compiler",
    "version": "0.1.0"
  },
  "updatedAt": "2026-02-08T02:01:25.095986+00:00"
}